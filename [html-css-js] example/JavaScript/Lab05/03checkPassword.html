<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>03checkPassword.html</title>

</head>
<body>

    Password: <input type="password" id="idPwd" size="6"> <!-- 瀏覽器執行到此標籤會建立一個物件-->
    <br/>    
    <input type="button" value="Check Password" onclick="checkPassword();">

    <script>
        
        //[object class] 一個物件的類別(class)屬性是個字串，提供關於該物件的種類的資訊

        //文字元素的value屬性:
        //http://www.w3schools.com/jsref/dom_obj_text.asp

        function checkPassword(){

            //取得元素值
            let pwd = document.getElementById("idPwd").value;
            let pwdLength = pwd.length;
            let isAlp = false;
            let isNum = false;
            let isSpc = false;

            //判斷元素值是否為空白，密碼長度是否大於6
            if(pwd == "")
                alert("Please enter your password.");
            
            //如果長度是否大於6，判斷是否包含字母、數字、特殊符號
            else if(pwdLength >= 6){

        
                for(let i=0; i<pwdLength; i++){
                    
                    let pwdChar = pwd.charCodeAt(i);

                    if((pwdChar >= 0x0041 && pwdChar <= 0x005A) || (pwdChar >= 0x0061 && pwdChar <= 0x007A)) //A-Za-z
                        isAlp = true;
                    else if(pwdChar >= 0x0030 && pwdChar <= 0x0039) //0-9
                        isNum = true;
                    else if((pwdChar >= 0x0021 && pwdChar <= 0x002F) || 
                            (pwdChar >= 0x003A && pwdChar <= 0x0040) ||
                            (pwdChar >= 0x005B && pwdChar <= 0x0060) || 
                            (pwdChar >= 0x007B && pwdChar <= 0x007E)) //Special Characters
                        isSpc = true;

                    if(isAlp && isNum && isSpc) break;
                }
                
                if(isAlp && isNum && isSpc) 
                    alert("Congrats! Your password format is correct!")
                else
                    alert("Your password must contain at least one letter, at least one number digit, and at least one special character.")
            }

            else
                alert("Your password length must be greater than 6 characters!")
        
        }
        
    </script>
</body>
</html>